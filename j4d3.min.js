/*! j4d3 v0.0.1 2015-01-23 */
var j4d3=window.j4d3||{};j4d3=function(){function a(a,b){function c(){p.select("g.x.axis").call(t).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","-.3em").attr("transform",function(){return"rotate(-65)"})}function d(){contWidth=parseInt(d3.select(i).style("width"),10),n=contWidth-k.left-k.right,v.range([0,n]),svgElement=d3.select(a+" svg").attr("width",contWidth),s.tickSize(-n,10,0);p.select("path.line").data()[0];x.draw(q,!0)}var e={width:480,height:250,margin:{top:20,right:20,bottom:60,left:40},interpolation:"cardinal",responsive:!1,x:"timestamp",y:"val"},f=b&&b.x||e.x,g=b&&b.y||e.y,h=b&&b.responsive||e.responsive,i=a,j=b&&b.margin,k={top:j&&j.top||20,right:j&&j.right||20,bottom:j&&j.bottom||60,left:j&&j.left||40},l=b&&b.width||parseInt(d3.select(a).style("width"),10)||e.width,m=b&&b.height||e.height,n=l-k.left-k.right,o=m-k.top-k.bottom,p=void 0;this.svg=p;var q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=b&&b.interpolation||"cardinal";v=d3.time.scale().domain([new Date(lineData[0].timestamp),d3.time.day.offset(new Date(lineData[0].timestamp),1)]).range([0,n]),u=d3.scale.linear().range([o,0]),r=d3.svg.line().x(function(a){return v(new Date(a[f]))}).y(function(a){return u(a[g])}).interpolate(w),t=d3.svg.axis().scale(v).orient("bottom").ticks(d3.time.hours,3).tickFormat(d3.time.format("%H:%M")).tickSize(-o,0).tickPadding(8),s=d3.svg.axis().scale(u).orient("left").tickSize(-n,10,0).tickPadding(6),p=d3.select(a).append("svg").attr("width",n+k.left+k.right).attr("height",o+k.top+k.bottom).append("g").attr("transform","translate("+k.left+","+k.top+")");p.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")"),p.append("g").attr("class","y axis").attr("transform","translate(0,0)"),p.append("path").attr("class","line").attr("stroke","steelblue").attr("stroke-width",2).attr("fill","none");p.select("path.line").data([lineData]);p.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")"),p.append("g").attr("class","y axis").attr("transform","translate(0,0)");if(c(),h){var x=this;d3.select(window).on("resize",d)}this.draw=function(a,b){h&&b&&c(),q=a,u.domain([0,d3.max(q,function(a){return a[g]})]),p.select("path.line").data([q]),p.select("g.y.axis").transition().call(s),p.select("path.line").transition().attr("d",r)}}return{createGraph:function(b,c){return new a(b,c)},Graph:a}}();